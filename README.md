# EliteDang-route-optimization
Using the market of the game *Elite: Dangerous* to calculate optimized trading and transportation routes 

## Intro to *Elite: Dangerous*
*Elite: Dangerous* is the latest venture in the *Elite* game series that first debuted all the way back in 1984, when David Braben and Ian Bell designed the original *Elite*, a seminal work that came to define the space simulation genre. There, you started out with a small ship and a handful of credits, leaving you to decide how to make your way forward, be it through trading, mining, piracy, or bounty hunting. Braben would go on to found Frontier Developments, which still develops *Elite: Dangerous* and the *Elite* series to this very day. Even nearly 35 years later, while the graphics have improved drastically from the simple polygonal 3D wireframe models, the basis of the gameplay remains largely the same - you explore, fight and trade your way towards better ranks and better equipment as you fly through the galaxy.

*Elite: Dangerous* was crowdfunded on Kickstarter back in 2012, releasing a couple years later in 2014. It's the most ambitious game in the series, as they set out to try and emulate, as best they could, the entirety of the Milky Way Galaxy. And it's not hard to come across the scope of their ambition - a casual glance at the galaxy map shows millions upon millions of systems to be explored, covering tens of thousands of light years across. It is essentially impossible for a player to visit every place - the galaxy is far too huge, and most of it is hundreds if not thousands of light years away from the nearest populated colony in civilized space. But fortunately, we're not going to be looking at the entire galaxy - we're going to be looking at what is colliquially known as 'the Bubble'.

## The *Elite: Dangerous* Trading Economy
As previously stated, there are multiple different ways to make money in the game, but the one we're going to be looking at closest is the trading aspect of the game. Trading involves space stations, and is thus centered around the civilized and populated systems closest to Sol / Earth, colliquially known to players as 'the Bubble'. Trading comes basically in two aspects - trading missions, which vary from being given cargo at one station to deliver to another station, to things like being asked to find a certain quantity of a certain commodity and return it to the station. The other is more freeform - most stations have markets from which you can buy certain commodities at a price, and it becomes a game of buying low and selling high. The different economies are based off the different types of stations - an agricultural station, for example, will generally buy and sell foodstuffs for low prices, as that's what they produce and will generally have a large supply. Things that have nothing to do with agriculture, like mined minerals, won't be available for sale, and generally won't be worthwhile to sell. But materials that facilitate agricultural production, like say, heavy machinery that could be used to work farms, for example, will be in high demand and you can get a good price for. It becomes a matter of finding one station that produces something another station wants and playing space trucker to get the goods from A to B. 

However, one of the big things about *Elite*'s economy is that it responds to the players - a trade route that is super profitable might become well-known and popular, but then may consequently dwindle in profitability because everybody and their brother is using it. In addition, stations have minor factions, usually based in and around the system in question, and doing certain missions will raise the influence of that faction - even eventually putting that faction in control of the station or even the system. The state of the station is dependent on the state of the strongest faction in the station, and stations with certain statuses are even more profitable than normal. A 'Boom' status, for example, increases the profitability of just about every commodity that the station will buy, while a 'Retreat' status means that the margins are likely to be much tighter. Other statuses, like 'Outbreak' and 'Famine', considerably drive up the price of just a couple commodities (in those particular cases, medicine and food products) Furthermore, players can start their own factions and attempt to wrestle control from the generic factions and even other player factions, further influencing how the economy lives and breathes.

## Transportation in *Elite: Dangerous*
Because of it's focus on space simulation, travel in *Elite: Dangerous* has unique qualities to it. Each system basically acts as a node in a network - system travel can only be done by making jump from one system to another with what's in-game known as a 'Frame Shift Drive' or FSD, since as in real life, the travel distance between stars makes regular travel effectively impossible (even stars that might otherwise close enough to be flown by 'supercruise' - not a full warp, but faster than light - are not accessible if they are not part of the same system - traveling from system to system is what causes the game to 'load' the new system and everything in it). Travel is dependent on the capability of a ship's FSD - while a system may be 25 ly away from another, a ship with a FSD capacity of say... 15 ly may need more than two trips if there are no systems in the right place in between the departure and destination systems. You can't make a jump if there's no system at your destination - you have to go from system to system to effectively travel.

## Route Optimization
So now that we understand the restrictions of travel, and the objectives of what we want to do (make the most money we can), we can look at the task we're trying to get our model to resolve - how to best optimize the efficiency of routes. We have basically three major targets - the first, obviously, being money. It doesn't matter how short the trip is if it's not actually making you any credits. The second is system-to-system travel - the most profitable route stops being the most efficient when you have to travel from one side of the bubble to the other, making dozens of jumps along the way. The third is in-system travel. Just like in the real world, binary star systems are far from uncommon in Elite, and trinary, quarternary and even further systems aren't unheard of. It's also not impossible that the star you enter the system next to, and the star the planet the station is revolving around are different ones - and it may be quite a slog to get from one to another. In-system distances are usually judged in ls or light-seconds, with the Sun to Earth being roughly 500 of those, as it is roughly in real life, depending on where it is in orbit during a given point of the year. To provide an example of how long these can get, though not necessarily common, it is not unheard of for a station to be 100,000 ls away from a system entry point. The worst I've personally flown was 600,000 from system entry, and one station is famous (or infamous) in the community for being at just under 7 million ls distance from it's system origin point.

In-system travel is divided more or less into two parts. 'Supercruising' is the majority of it - it allows you to travel faster-than-light so as to quickly get from one point of the system to the other. *Elite: Dangerous* goes for scientific accuracy as much as possible in regards to distances travelled (even if they completely bend the rules in how you travel them) and if you were restricted to sublight speeds, travelling from the Sun to Earth would take 8 minutes, and those distances I mentioned earlier would require the greater part of day, if not multiple days. (in that last particular case mentioned, it would take *several months.*) Supercruising requires time to accelerate/decelerate, and is actually probably the greatest part of the time spent in trading. It's also where you can be confronted by in-game obstacles - here, you can get interdicted by pirates and what not. The other part is standard flying - once you close in on a certain distance in supercruise from a station, you can drop from supercruise and enter normal flight, and dock with the station. For the most part, docking is fairly standard and shouldn't deviate dramatically in time spent, but certain stations have restrictions on what types of ships they can accommodate.

There's also planetary stations, which were introduced and remain exclusive to *Horizons*, *Elite*'s at-the-moment lone expansion pack. Planetary stations are limited to planets without atmospheres, and there's a little more time required to land at a planetary station because of planetary approach - which adds a new layer to it. Basically, once you get close enough to a planet, you enter a 'glide' state, where you direct the ship with minimal engine control. A well executed glide can shave time off of your traveling, as you can end glide very close to a station - but a poorly executed glide can add a lot of time to the journey. It's mostly up to practice. It's something to be kept in mind, regardless, in terms of finding efficiency.

## Real World Relevance
It's easy to look at this project and say "Okay, but I don't play this game, what's the worth of it to me?" I think that the intricacies of transportation in the game make it a viable simulation of actual real world transportation route optimization. No, we're not traveling the vast expanses of outer space to buy and sell goods, but at the same time, the node network that exists between systems is not unlike real world air travel - reasonably speaking, you can only fly from one airport to another airport, and those airports will be in different regions which will themselves have different markets - just like you can only fly from system to system, and all those systems are different regions that have different markets. 'Supercruising' is not unlike commercial trucking - taking the goods from either some central hub or from some other mode of transport (be it plane or train or boat), to either a warehouse for further distribution, a place of sale or directly to some customer who has made a purchase. And of course, profitability is always a concern for any business that has ever existed.

## *Elite* Data Sources and Utilization
Because of a large portion of *Elite* is exploration, a lot of the information about the galaxy is intentionally left black boxed by the developers, and so getting the information directly is impossible. The developers have, however, developed an API that gives you a ton of information based on what your Commander - your personal in-game avatar - has done. Various third parties have figured out how to aggregate all this data to build a relatively comprehensive database for Elite - basically by asking the people who sign up for the service to give their API data. Because it's basically a huge aggregate of solo commanders, it's far from perfect, but the Bubble is well trafficked enough and the sites popular enough that I'm comfortable with considering it a 'complete' data source, despite some frustrations with trying to clean the data. The data was all gathered from **eddb.io**, and cross-checked using other sites, most notably inara.cz, both some of the most frequented sites for *Elite: Dangerous*.

Of the files, I'm focused on five - **systems_populated.json** contains all the populated systems, while leaving the millions and millions of other systems that are unoccupied and thus have no markets to deal with (for reference, the original systems dataset had 17 million rows), **stations.json** contains all the stations - every populated system has at least one station in it, but a system can have more than one station. **factions.csv** contains all the faction data, and is important because faction status has an impact on the station market status. **commodities.json** is the smallest, giving information on each particular commodity that can be bought and sold. And finally **listings.csv** is the heart and soul of it all, holding all the market listings from every station in the galaxy. Everything else is built off that. Because of size limitations, the data sources are not included here, but this project was originally done using the information pulled daily from the month of March 2018.

For example purposes, I've produced time series data focused on four systems, each with different particular markets and occupying a different region of space. **Eravate** is one of the first systems most players will encounter, and is generally highly recommended for beginners thanks to its ease of access. It has an industrial market. **Calennero** is a resource rich system near one of the major plot imporant areas, and has a mining extraction and refinery market. **Epsilon Indi** is an actual star, one not terribly far from Earth. (in terms of space distances, anyway...) and is home to a 'tourist attraction' - a moon that, due to an error in the physics engine, rotates around its parent planet in a matter of minutes. It was popular enough that despite the game's otherwise standing commitment for a reflection of astrophysics, the glitch has been made permanent. It has an agricultural market. And finally **Wolf 906** forms one of the many 'powerplay' control systems - a completely different game mechanic where plot relevant factions fight for influence over the populated area of the galaxy. Certain systems are deemed important that they 'control' areas of space and the systems around it - Wolf 906 is one of those systems. It has a high-tech economy. Because of how the data sources are collected, I wanted to make sure I picked systems that would have a decent amount of traffic and changes to their economies, while still meeting the criteria of being different markets and being in different areas of space. 
